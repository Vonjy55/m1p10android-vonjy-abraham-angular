<article *ngIf="isLoading; else loaded" aria-busy="true"></article>
<ng-template #loaded>
    <article>
        <div *ngIf="factures; else no_factures">
            <div class="article-head">
                <hgroup>
                    <h1>Liste des factures</h1>                    
                </hgroup>
            </div>
            <hr>
            <div *ngIf="factures.length>0; else no_factures">
                <table>
                    <thead>
                        <tr>
                            <th>Voiture</th>
                            <th>Date Facture</th>
                            <th>Total HT</th>
                            <th>Total TTC</th>
                            <th>Etat</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let facture of factures">
                            <td>{{facture.resumeVoiture}}</td>
                            <td>{{facture.dateFacture | date:'shortDate'}}</td>
                            <td>{{facture.totalHT | currency:'MGA':'symbol-narrow':'1.1-1'}}</td>
                            <td>{{facture.totalTTC | currency:'MGA':'symbol-narrow':'1.1-1'}}</td>
                            <td>{{(facture.paid)?"Payée":"Non payée"}}</td>
                        </tr>
                    </tbody>
                </table>
                <div style="width:100%;display: inline-flex; justify-content: center;">
                    <mat-paginator [length]="total" [pageSize]="itemCount" [pageSizeOptions]="[5, 10, 25, 100]"
                        [pageIndex]="page" (page)="changePage($event)" aria-label="Select page">
                    </mat-paginator>
                </div>
            </div>
        </div>
        <ng-template #no_factures>
            <p>Pas encore de factures</p>
        </ng-template>
    </article>
</ng-template>
